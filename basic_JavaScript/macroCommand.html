<html>
	<body>
		<button id="button">click</button>
	</body>
	<script>
		var MacroCommand = function(){
		   return {
		       commandsList: [],
		       add: function(command){
		           this.commandsList.push(command);
		       },
		       execute: function(){
		           for(var i = 0,command; command = this.commandsList[i++];){
			        command.execute();
			   }
		       }
		   }
		};

                //进行定义一些需要的操作
                var  openCvCommand = {
		      //每一个操作  即这个变量中有一个execute的操作
			execute: function(){
			     console.log('进行打开空调的操作');
			}
		};

                //进行打开电视的操作
                var openTvCommand = {
		      execute: function(){
		           console.log('打开电视');
		      }
		};

               //打开音响
               var openSoundCommand = {
	              execute: function(){
		            console.log('打开音响');
		      }
	       };

               /** 第一个一些列的为操作命令 ****/
               var macroCommand1 = new MacroCommand();
               macroCommand1.add(openCvCommand);
               macroCommand1.add(openTvCommand);
               macroCommand1.add(openSoundCommand);


             /** 进行定义第二组变量  **/
             var closeDoorCommand = {
	        execute: function(){
		    console.log('关门');
		}
	     };
             
             var openQQCommand = {
	         execute: function(){
		      console.log('打开qq');
		 }
	     };


           var macroCommand2 = new MacroCommand(); 
           macroCommand2.add(closeDoorCommand);
           macroCommand2.add(openQQCommand);

          /** 定义一个总的变量  ****/

          var macroCommand = new MacroCommand();
           macroCommand.add(macroCommand1);
           macroCommand.add(macroCommand2);
      	</script>
</html>

