<!--这是一条注释 -->
<!DOCTYPE html>
<!-- 这是另一条注释 -->
<html>
<head>
	<title>添加节点</title>
    <style type="text/css">
     li+li{
        font-size: 20px;
     }
    </style>
</head>
<body>
 <form method="post" id="myForm">
  
  <textarea rows="250" cols="35">Initial Value</textarea>
 </form>
 <script type="text/javascript">
    var EventUtil = {
    	addHandler: function(element,type,handler){
    		//省略代码
    		if(element.addEventListener){
    			element.addEventListener(type,handler,false);
    		}else if(element.attachEvent){
    			element.attachEvent("on" + type,handler);
    		}else{
    			element["on" + type] = handler;
    		}
    	},

    	getEvent: function(event){
    		return event ? event : window.event;
    	},

    	getTarget: function(event){
    		return event.target || event.srcElement;
    	},

    	preventDefault: function(event){
    		if(event.preventDefault){
    			event.preventDefault();
    		}else{
    			event.returnValue = false;
    		}
    	},

    	removeHandler: function(element,type,handler){
    		if(element.removeEventLister){
    			element.removeEventLister(type,handler,false);
    		}else if(element.detachEvent){
    			element.detachEvent("on" + type,handler);
    		}else{
    			element["on" + type] = null;
    		}
    	},

    	stopPropagation: function(event){
    		if(event.stopPropagation){
    			event.stopPropagation();
    		}else {
    			event.cancelBubble = true;
    		}
    	},

        getRelatedTarget: function(event){
            if(event.relatedTarget){
                return event.relatedTarget;
            }else if(event.toElement){
                return event.toElement;
            }else if(event.fromElement){
                return event.fromElement;
            }else{
                return null;
            }
        },

        getButton: function(event){
            if(document.implementation.hasFeature('MouseEvent',"2.0")){
                return event.button;
            }else {
                switch(event.button){
                    case 0:
                    case 1:
                    case 3:
                    case 5:
                    case 7:
                        return 0;
                    case 2:
                    case 6:
                        return 2;
                    case 4:
                        return 4;
                }
            }
        },

        getCharCode: function(event){
            if(typeof event.charCode == "number"){
                 return event.charCode;
            }else{
                 return event.keyCode;
            }
        },

        getClipboardText: function(event){
        	var clipboardData = (event.clipboardData || window.clipboardData);
        	return clipboardData.getData("text");
        },

        setClipboardText: function(event,value){
        	if(event.clipboardData){
        		return event.clipboardData.setData("text/plain",value);
        	}else if(window.clipboardData){
        		return window.clipboardData.setData("text/plain",value);
        	}
        }
    };

    var textbox = document.forms[0].elements[0];
    //验证鼠标按下的情况
    EventUtil.addHandler(textbox,"keypress",function(event){
    	event  =  EventUtil.getEvent(event);
    	var target = EventUtil.getTarget(event);
    	var charCode = EventUtil.getCharCode(event);
    	console.log("屏蔽所有的按键操作");
    	if(!/\d/.test(String.fromCharCode(charCode))){
    	   EventUtil.preventDefault(event);	
    	}
    	
    })
   

 </script>
</body>
</html>