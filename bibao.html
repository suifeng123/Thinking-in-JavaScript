<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<button id="execute">点击我执行命令</button>
		<button id="undo">点击我执行命令</button>
		<script>
		 var Tv = {
			 open: function(){
				 console.log('打开电视机');
			 },
			 close: function(){
				 console.log('关上电视机');
			 }
		 };
		 
		 var openTvCommand = function(receiver){
			 this.receiver = receiver;//这是一个非常巧妙的方法
		 };
		 OpenTvCommand.prototype.execute = function(){
			    this.receiver.open(); //执行打开电视机的方法
		 };
		 OpenTvCommand.prototype.undo = function(){
			 this.receiver.close(); //撤销命令  关闭电视机的方法
		 };
		 
		 var setCommand = function(command){
			 document.getElementById('execute').onClick = function(){
				 command.execute();//输出: 打开电视机
			 }
			 document.getElementById('undo').onclick = function(){
				 command.undo();//输入: 关闭电视机
			 }
		 };
		 
		 setCommand(new OpenTvCommand(Tv)); 
		 
		 
		 var appendDiv = function(){
			 for(var i = 0; i < 100; i++){
				 var div = document.createElement('div');
				 div.innerHTML = i;
				 document.body.appendChild(div);
				 div.style.display = 'none';
			 }
		 };
		 appendDiv();
		 
		 //可以使用回调函数进行相应的操作
		 var appendDiv = function(callback){
			 for(var i = 0; i < 100; i++){
				 var div = document.createElement('div');
				 div.innerHTML = i;
				 document.body.appendChild(div);
				 if(typeof callback === 'function'){
					 callback(div);//进行回调函数调用这个div 进行相应地处理这个div操作
				 }
			 }
		 };
		 
		 appendDiv(function(node){
			 node.style.display = 'none';
		 })
		 
		 var isString = function(obj){
			 return Object.prototype.toString.call(obj) === '[object String]';
		 };
		 
		 var isArray = function(obj){
	          return Object.prototype.toString.call(obj) === '[object Array]';
		 };
		 
		 var isNumber = function(obj){
			 return Object.prototype.toString.call(obj) === '[object Number]';
		 };
		</script>
	</body>
</html>
